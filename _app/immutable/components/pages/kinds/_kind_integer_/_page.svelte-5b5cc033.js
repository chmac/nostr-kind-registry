import{S as Ft,i as Gt,s as Yt,k as c,q as _,a as y,l as u,m as f,r as d,h as i,c as R,n as v,b as P,D as e,u as A,C as ne,N as jt,O as It,P as Tt,Q as Lt,R as Nt,J as qe,T as Bt,f as ze,t as tt,L as Jt,v as Ot,p as Kt,e as Ut,g as Ht,d as qt,x as zt,y as Qt,z as Vt,A as Wt}from"../../../../chunks/index-ec3efac2.js";import{g as Xt,a as Zt}from"../../../../chunks/nostr-29ed2c04.js";import{C as $t,a as xt}from"../../../../chunks/constants-0acff733.js";function At(a,l,o){const n=a.slice();return n[2]=l[o][0],n[3]=l[o].slice(1),n}function el(a){let l=a[0].tags+"",o;return{c(){o=_(l)},l(n){o=d(n,l)},m(n,t){P(n,o,t)},p(n,t){t&1&&l!==(l=n[0].tags+"")&&A(o,l)},d(n){n&&i(o)}}}function tl(a){let l,o=a[0].tags,n=[];for(let t=0;t<o.length;t+=1)n[t]=Mt(At(a,o,t));return{c(){l=c("ul");for(let t=0;t<n.length;t+=1)n[t].c()},l(t){l=u(t,"UL",{});var s=f(l);for(let r=0;r<n.length;r+=1)n[r].l(s);s.forEach(i)},m(t,s){P(t,l,s);for(let r=0;r<n.length;r+=1)n[r].m(l,null)},p(t,s){if(s&1){o=t[0].tags;let r;for(r=0;r<o.length;r+=1){const h=At(t,o,r);n[r]?n[r].p(h,s):(n[r]=Mt(h),n[r].c(),n[r].m(l,null))}for(;r<n.length;r+=1)n[r].d(1);n.length=o.length}},d(t){t&&i(l),jt(n,t)}}}function Mt(a){let l,o=a[2]+"",n,t,s=a[3]+"",r;return{c(){l=c("li"),n=_(o),t=_(": "),r=_(s)},l(h){l=u(h,"LI",{});var m=f(l);n=d(m,o),t=d(m,": "),r=d(m,s),m.forEach(i)},m(h,m){P(h,l,m),e(l,n),e(l,t),e(l,r)},p(h,m){m&1&&o!==(o=h[2]+"")&&A(n,o),m&1&&s!==(s=h[3]+"")&&A(r,s)},d(h){h&&i(l)}}}function ll(a){let l,o=a[0].content+"",n;return{c(){l=c("pre"),n=_(o)},l(t){l=u(t,"PRE",{});var s=f(l);n=d(s,o),s.forEach(i)},m(t,s){P(t,l,s),e(l,n)},p(t,s){s&1&&o!==(o=t[0].content+"")&&A(n,o)},d(t){t&&i(l)}}}function nl(a){let l,o=JSON.stringify(JSON.parse(a[0].content),null,2)+"",n;return{c(){l=c("pre"),n=_(o)},l(t){l=u(t,"PRE",{});var s=f(l);n=d(s,o),s.forEach(i)},m(t,s){P(t,l,s),e(l,n)},p(t,s){s&1&&o!==(o=JSON.stringify(JSON.parse(t[0].content),null,2)+"")&&A(n,o)},d(t){t&&i(l)}}}function al(a){let l,o,n,t,s,r,h,m,M,q,me,w,N,C,z,pe,g,ae,re,ve,Ue,Y,F,j,se,Ae,G,Q,B=a[0].created_at+"",Re,Me,T,we,V=new Date(a[0].created_at*1e3).toUTCString()+"",W,Ce,oe,ie,J,X,L,$,De,Pe,K,ge=a[0].pubkey+"",Se,x,Ie,ce,O,D,be,Fe,ee,Ge,U=a[0].kind+"",Te,Be,S,ue,fe,b,k,I,he,ke=a[0].id+"",Le,Ye,H,Z,_e,Ee,Je,de,Ne,Oe=a[0].sig+"",ye;function He(E,p){return p&1&&(M=null),M==null&&(M=!!Array.isArray(E[0].tags)),M?tl:el}let je=He(a,-1),te=je(a);function ct(E,p){return p&1&&(re=null),re==null&&(re=!!rl(E[0].content)),re?nl:ll}let Qe=ct(a,-1),le=Qe(a);return{c(){l=c("ul"),o=c("li"),n=c("details"),t=c("summary"),s=c("strong"),r=_("tags"),h=_(":"),m=y(),te.c(),me=y(),w=c("li"),N=c("details"),C=c("summary"),z=c("strong"),pe=_("content"),g=_(":"),ae=y(),le.c(),Ue=y(),Y=c("li"),F=c("details"),j=c("summary"),se=c("strong"),Ae=_("created_at"),G=_(":"),Q=y(),Re=_(B),Me=y(),T=c("span"),we=_("("),W=_(V),Ce=_(")"),oe=y(),ie=c("li"),J=c("details"),X=c("summary"),L=c("strong"),$=_("pubkey"),De=_(":"),Pe=y(),K=c("a"),Se=_(ge),Ie=y(),ce=c("li"),O=c("details"),D=c("summary"),be=c("strong"),Fe=_("kind"),ee=_(":"),Ge=y(),Te=_(U),Be=y(),S=c("li"),ue=c("details"),fe=c("summary"),b=c("strong"),k=_("id"),I=_(":"),he=y(),Le=_(ke),Ye=y(),H=c("li"),Z=c("details"),_e=c("summary"),Ee=c("strong"),Je=_("sig"),de=_(":"),Ne=y(),ye=_(Oe),this.h()},l(E){l=u(E,"UL",{class:!0});var p=f(l);o=u(p,"LI",{class:!0});var ut=f(o);n=u(ut,"DETAILS",{});var Ve=f(n);t=u(Ve,"SUMMARY",{class:!0});var lt=f(t);s=u(lt,"STRONG",{});var ft=f(s);r=d(ft,"tags"),ft.forEach(i),h=d(lt,":"),lt.forEach(i),m=R(Ve),te.l(Ve),Ve.forEach(i),ut.forEach(i),me=R(p),w=u(p,"LI",{class:!0});var ht=f(w);N=u(ht,"DETAILS",{});var We=f(N);C=u(We,"SUMMARY",{class:!0});var nt=f(C);z=u(nt,"STRONG",{});var _t=f(z);pe=d(_t,"content"),_t.forEach(i),g=d(nt,":"),nt.forEach(i),ae=R(We),le.l(We),We.forEach(i),ht.forEach(i),Ue=R(p),Y=u(p,"LI",{class:!0});var dt=f(Y);F=u(dt,"DETAILS",{});var Ke=f(F);j=u(Ke,"SUMMARY",{class:!0});var at=f(j);se=u(at,"STRONG",{});var mt=f(se);Ae=d(mt,"created_at"),mt.forEach(i),G=d(at,":"),at.forEach(i),Q=R(Ke),Re=d(Ke,B),Me=R(Ke),T=u(Ke,"SPAN",{class:!0});var Xe=f(T);we=d(Xe,"("),W=d(Xe,V),Ce=d(Xe,")"),Xe.forEach(i),Ke.forEach(i),dt.forEach(i),oe=R(p),ie=u(p,"LI",{class:!0});var pt=f(ie);J=u(pt,"DETAILS",{});var Ze=f(J);X=u(Ze,"SUMMARY",{class:!0});var rt=f(X);L=u(rt,"STRONG",{});var vt=f(L);$=d(vt,"pubkey"),vt.forEach(i),De=d(rt,":"),rt.forEach(i),Pe=R(Ze),K=u(Ze,"A",{class:!0,target:!0,rel:!0,href:!0});var gt=f(K);Se=d(gt,ge),gt.forEach(i),Ze.forEach(i),pt.forEach(i),Ie=R(p),ce=u(p,"LI",{class:!0});var bt=f(ce);O=u(bt,"DETAILS",{});var $e=f(O);D=u($e,"SUMMARY",{class:!0});var st=f(D);be=u(st,"STRONG",{});var kt=f(be);Fe=d(kt,"kind"),kt.forEach(i),ee=d(st,":"),st.forEach(i),Ge=R($e),Te=d($e,U),$e.forEach(i),bt.forEach(i),Be=R(p),S=u(p,"LI",{class:!0});var Et=f(S);ue=u(Et,"DETAILS",{});var xe=f(ue);fe=u(xe,"SUMMARY",{class:!0});var ot=f(fe);b=u(ot,"STRONG",{});var yt=f(b);k=d(yt,"id"),yt.forEach(i),I=d(ot,":"),ot.forEach(i),he=R(xe),Le=d(xe,ke),xe.forEach(i),Et.forEach(i),Ye=R(p),H=u(p,"LI",{class:!0});var Rt=f(H);Z=u(Rt,"DETAILS",{});var et=f(Z);_e=u(et,"SUMMARY",{class:!0});var it=f(_e);Ee=u(it,"STRONG",{});var St=f(Ee);Je=d(St,"sig"),St.forEach(i),de=d(it,":"),it.forEach(i),Ne=R(et),ye=d(et,Oe),et.forEach(i),Rt.forEach(i),p.forEach(i),this.h()},h(){v(t,"class","hover:cursor-pointer"),n.open=q=a[0].tags.length<a[1],v(o,"class","font-mono break-all"),v(C,"class","hover:cursor-pointer"),N.open=ve=a[0].content.length<a[1],v(w,"class","font-mono break-all"),v(j,"class","hover:cursor-pointer"),v(T,"class","font-sans italic"),F.open=!0,v(Y,"class","font-mono break-all"),v(X,"class","hover:cursor-pointer"),v(K,"class","underline hover:cursor-pointer hover:text-slate-500"),v(K,"target","_blank"),v(K,"rel","noreferrer"),v(K,"href",x=`https://iris.to/${a[0].pubkey}`),J.open=!0,v(ie,"class","font-mono break-all"),v(D,"class","hover:cursor-pointer"),v(ce,"class","font-mono break-all"),v(fe,"class","hover:cursor-pointer"),v(S,"class","font-mono break-all"),v(_e,"class","hover:cursor-pointer"),v(H,"class","font-mono break-all"),v(l,"class","max-w-prose")},m(E,p){P(E,l,p),e(l,o),e(o,n),e(n,t),e(t,s),e(s,r),e(t,h),e(n,m),te.m(n,null),e(l,me),e(l,w),e(w,N),e(N,C),e(C,z),e(z,pe),e(C,g),e(N,ae),le.m(N,null),e(l,Ue),e(l,Y),e(Y,F),e(F,j),e(j,se),e(se,Ae),e(j,G),e(F,Q),e(F,Re),e(F,Me),e(F,T),e(T,we),e(T,W),e(T,Ce),e(l,oe),e(l,ie),e(ie,J),e(J,X),e(X,L),e(L,$),e(X,De),e(J,Pe),e(J,K),e(K,Se),e(l,Ie),e(l,ce),e(ce,O),e(O,D),e(D,be),e(be,Fe),e(D,ee),e(O,Ge),e(O,Te),e(l,Be),e(l,S),e(S,ue),e(ue,fe),e(fe,b),e(b,k),e(fe,I),e(ue,he),e(ue,Le),e(l,Ye),e(l,H),e(H,Z),e(Z,_e),e(_e,Ee),e(Ee,Je),e(_e,de),e(Z,Ne),e(Z,ye)},p(E,[p]){je===(je=He(E,p))&&te?te.p(E,p):(te.d(1),te=je(E),te&&(te.c(),te.m(n,null))),p&3&&q!==(q=E[0].tags.length<E[1])&&(n.open=q),Qe===(Qe=ct(E,p))&&le?le.p(E,p):(le.d(1),le=Qe(E),le&&(le.c(),le.m(N,null))),p&3&&ve!==(ve=E[0].content.length<E[1])&&(N.open=ve),p&1&&B!==(B=E[0].created_at+"")&&A(Re,B),p&1&&V!==(V=new Date(E[0].created_at*1e3).toUTCString()+"")&&A(W,V),p&1&&ge!==(ge=E[0].pubkey+"")&&A(Se,ge),p&1&&x!==(x=`https://iris.to/${E[0].pubkey}`)&&v(K,"href",x),p&1&&U!==(U=E[0].kind+"")&&A(Te,U),p&1&&ke!==(ke=E[0].id+"")&&A(Le,ke),p&1&&Oe!==(Oe=E[0].sig+"")&&A(ye,Oe)},i:ne,o:ne,d(E){E&&i(l),te.d(),le.d()}}}function rl(a){console.log("checking",a);try{return JSON.parse(a),console.log("success"),!0}catch{return console.log("failure"),!1}}function sl(a,l,o){let{event:n}=l,{maxLengthInChars:t=500}=l;return a.$$set=s=>{"event"in s&&o(0,n=s.event),"maxLengthInChars"in s&&o(1,t=s.maxLengthInChars)},[n,t]}class ol extends Ft{constructor(l){super(),Gt(this,l,sl,al,Yt,{event:0,maxLengthInChars:1})}}function wt(a,l,o){const n=a.slice();return n[15]=l[o],n}function il(a){let l,o=a[18]+"",n;return{c(){l=c("p"),n=_(o),this.h()},l(t){l=u(t,"P",{style:!0});var s=f(l);n=d(s,o),s.forEach(i),this.h()},h(){Kt(l,"color","red")},m(t,s){P(t,l,s),e(l,n)},p(t,s){s&32&&o!==(o=t[18]+"")&&A(n,o)},i:ne,o:ne,d(t){t&&i(l)}}}function cl(a){let l,o,n=a[14],t=[];for(let r=0;r<n.length;r+=1)t[r]=Ct(wt(a,n,r));const s=r=>tt(t[r],1,1,()=>{t[r]=null});return{c(){for(let r=0;r<t.length;r+=1)t[r].c();l=Ut()},l(r){for(let h=0;h<t.length;h+=1)t[h].l(r);l=Ut()},m(r,h){for(let m=0;m<t.length;m+=1)t[m].m(r,h);P(r,l,h),o=!0},p(r,h){if(h&32){n=r[14];let m;for(m=0;m<n.length;m+=1){const M=wt(r,n,m);t[m]?(t[m].p(M,h),ze(t[m],1)):(t[m]=Ct(M),t[m].c(),ze(t[m],1),t[m].m(l.parentNode,l))}for(Ht(),m=n.length;m<t.length;m+=1)s(m);qt()}},i(r){if(!o){for(let h=0;h<n.length;h+=1)ze(t[h]);o=!0}},o(r){t=t.filter(Boolean);for(let h=0;h<t.length;h+=1)tt(t[h]);o=!1},d(r){jt(t,r),r&&i(l)}}}function Ct(a){let l,o,n,t;return n=new ol({props:{event:a[15]}}),{c(){l=c("hr"),o=y(),zt(n.$$.fragment),this.h()},l(s){l=u(s,"HR",{class:!0}),o=R(s),Qt(n.$$.fragment,s),this.h()},h(){v(l,"class","my-4")},m(s,r){P(s,l,r),P(s,o,r),Vt(n,s,r),t=!0},p(s,r){const h={};r&32&&(h.event=s[15]),n.$set(h)},i(s){t||(ze(n.$$.fragment,s),t=!0)},o(s){tt(n.$$.fragment,s),t=!1},d(s){s&&i(l),s&&i(o),Wt(n,s)}}}function ul(a){return{c:ne,l:ne,m:ne,p:ne,i:ne,o:ne,d:ne}}function fl(a){var ue,fe;let l,o,n=a[0].kind.kind+"",t,s,r,h,m,M=(a[0].kind.firstSeenDateString||"unknown")+"",q,me,w,N,C=((ue=a[0].kind.seenOnRelays)==null?void 0:ue.join("; "))+"",z,pe,g,ae,re,ve=(((fe=a[0].kind.relatedNips)==null?void 0:fe.map(Dt).join("; "))||"none")+"",Ue,Y,F,j,se=(a[0].urls.map(Pt).join("; ")||"none")+"",Ae,G,Q,B,Re,Me,T,we,V,W,Ce,oe,ie,J,X,L,$,De,Pe,K=$t.join(", ")+"",ge,Se,x,Ie,ce,O,D,be,Fe,ee,Ge,U,Te,Be,S={ctx:a,current:null,token:null,hasCatch:!0,pending:ul,then:cl,catch:il,value:14,error:18,blocks:[,,,]};return It(J=a[5],S),{c(){l=c("h1"),o=_("Kind "),t=_(n),s=y(),r=c("ul"),h=c("li"),m=_("First seen: "),q=_(M),me=y(),w=c("li"),N=_("Seen on relays: "),z=_(C),pe=y(),g=c("li"),ae=_("Related NIPs: "),re=new Tt(!1),Ue=y(),Y=c("li"),F=_("Related Implementations: "),j=new Tt(!1),Ae=y(),G=c("li"),Q=c("form"),B=c("button"),Re=_("Add URL comment"),Me=y(),T=c("input"),we=y(),V=c("p"),W=c("button"),Ce=_("Fetch example events"),oe=c("input"),ie=y(),S.block.c(),X=y(),L=c("dialog"),$=c("p"),De=_(`To add an implementation url, publish an event with these fields to one (or all) of these
		relays:`),Pe=c("br"),ge=_(K),Se=y(),x=c("pre"),Ie=_(a[4]),ce=y(),O=c("form"),D=c("button"),be=_("Copy"),Fe=y(),ee=c("button"),Ge=_("Close"),this.h()},l(b){l=u(b,"H1",{});var k=f(l);o=d(k,"Kind "),t=d(k,n),k.forEach(i),s=R(b),r=u(b,"UL",{});var I=f(r);h=u(I,"LI",{});var he=f(h);m=d(he,"First seen: "),q=d(he,M),he.forEach(i),me=R(I),w=u(I,"LI",{});var ke=f(w);N=d(ke,"Seen on relays: "),z=d(ke,C),ke.forEach(i),pe=R(I),g=u(I,"LI",{});var Le=f(g);ae=d(Le,"Related NIPs: "),re=Lt(Le,!1),Le.forEach(i),Ue=R(I),Y=u(I,"LI",{});var Ye=f(Y);F=d(Ye,"Related Implementations: "),j=Lt(Ye,!1),Ye.forEach(i),Ae=R(I),G=u(I,"LI",{});var H=f(G);Q=u(H,"FORM",{});var Z=f(Q);B=u(Z,"BUTTON",{class:!0});var _e=f(B);Re=d(_e,"Add URL comment"),_e.forEach(i),Me=R(Z),T=u(Z,"INPUT",{class:!0,type:!0}),Z.forEach(i),we=R(H),V=u(H,"P",{});var Ee=f(V);W=u(Ee,"BUTTON",{class:!0});var Je=f(W);Ce=d(Je,"Fetch example events"),Je.forEach(i),oe=u(Ee,"INPUT",{class:!0,type:!0,id:!0}),Ee.forEach(i),ie=R(H),S.block.l(H),H.forEach(i),I.forEach(i),X=R(b),L=u(b,"DIALOG",{class:!0});var de=f(L);$=u(de,"P",{});var Ne=f($);De=d(Ne,`To add an implementation url, publish an event with these fields to one (or all) of these
		relays:`),Pe=u(Ne,"BR",{}),ge=d(Ne,K),Ne.forEach(i),Se=R(de),x=u(de,"PRE",{class:!0});var Oe=f(x);Ie=d(Oe,a[4]),Oe.forEach(i),ce=R(de),O=u(de,"FORM",{method:!0});var ye=f(O);D=u(ye,"BUTTON",{class:!0});var He=f(D);be=d(He,"Copy"),He.forEach(i),Fe=R(ye),ee=u(ye,"BUTTON",{class:!0});var je=f(ee);Ge=d(je,"Close"),je.forEach(i),ye.forEach(i),de.forEach(i),this.h()},h(){re.a=null,j.a=null,v(B,"class","bg-slate-200 hover:bg-slate-300 rounded border p-2 mb-2"),v(T,"class","border ml-1"),v(T,"type","URL"),T.required=!0,v(W,"class","bg-slate-200 hover:bg-slate-300 rounded border p-2 mb-2"),v(oe,"class","ml-1"),v(oe,"type","text"),v(oe,"id","fetchFromRelayUrl"),v(x,"class","border my-3 p-2"),v(D,"class","bg-slate-200 hover:bg-slate-300 rounded border p-2 mb-2 float-left"),v(ee,"class","bg-slate-200 hover:bg-slate-300 rounded border p-2 mb-2 float-right"),v(O,"method","dialog"),v(L,"class","border bg-slate-100")},m(b,k){P(b,l,k),e(l,o),e(l,t),P(b,s,k),P(b,r,k),e(r,h),e(h,m),e(h,q),e(r,me),e(r,w),e(w,N),e(w,z),e(r,pe),e(r,g),e(g,ae),re.m(ve,g),e(r,Ue),e(r,Y),e(Y,F),j.m(se,Y),e(r,Ae),e(r,G),e(G,Q),e(Q,B),e(B,Re),e(Q,Me),e(Q,T),Nt(T,a[3]),a[10](Q),e(G,we),e(G,V),e(V,W),e(W,Ce),e(V,oe),e(G,ie),S.block.m(G,S.anchor=null),S.mount=()=>G,S.anchor=null,P(b,X,k),P(b,L,k),e(L,$),e($,De),e($,Pe),e($,ge),e(L,Se),e(L,x),e(x,Ie),e(L,ce),e(L,O),e(O,D),e(D,be),e(O,Fe),e(O,ee),e(ee,Ge),a[13](L),U=!0,Te||(Be=[qe(B,"click",a[8]),qe(T,"input",a[9]),qe(W,"click",a[6]),qe(D,"click",a[11]),qe(ee,"click",a[12])],Te=!0)},p(b,[k]){var I,he;a=b,(!U||k&1)&&n!==(n=a[0].kind.kind+"")&&A(t,n),(!U||k&1)&&M!==(M=(a[0].kind.firstSeenDateString||"unknown")+"")&&A(q,M),(!U||k&1)&&C!==(C=((I=a[0].kind.seenOnRelays)==null?void 0:I.join("; "))+"")&&A(z,C),(!U||k&1)&&ve!==(ve=(((he=a[0].kind.relatedNips)==null?void 0:he.map(Dt).join("; "))||"none")+"")&&re.p(ve),(!U||k&1)&&se!==(se=(a[0].urls.map(Pt).join("; ")||"none")+"")&&j.p(se),k&8&&Nt(T,a[3]),S.ctx=a,k&32&&J!==(J=a[5])&&It(J,S)||Bt(S,a,k),(!U||k&16)&&A(Ie,a[4])},i(b){U||(ze(S.block),U=!0)},o(b){for(let k=0;k<3;k+=1){const I=S.blocks[k];tt(I)}U=!1},d(b){b&&i(l),b&&i(s),b&&i(r),a[10](null),S.block.d(),S.token=null,S=null,b&&i(X),b&&i(L),a[13](null),Te=!1,Jt(Be)}}}const Dt=a=>`<a href="https://github.com/nostr-protocol/nips/blob/master/${a}.md">${a}</a>`,Pt=a=>`<a href="${a}">${a}</a>`;function hl(a,l,o){let{data:n}=l,t,s,r,h,m=new Promise(()=>{});function M(g){g.preventDefault();const ae=globalThis.document.getElementById("fetchFromRelayUrl").value;if(ae.length>0){o(5,m=Xt(n.kind.kind,ae));return}typeof n.kind.seenOnRelays>"u"||n.kind.seenOnRelays.length===0||o(5,m=Zt(n.kind.kind,n.kind.seenOnRelays))}function q(g){g.preventDefault(),o(4,h=`{
  "kind": ${xt},
  "tags": [
    ["k", "${n.kind.kind}"],
	["url", "${r}"]
  ],
  "content": ""
}`),t.show()}const me=g=>s.checkValidity()&&q(g);function w(){r=this.value,o(3,r)}function N(g){Ot[g?"unshift":"push"](()=>{s=g,o(2,s)})}const C=g=>{g.preventDefault(),navigator.clipboard.writeText(h)},z=()=>t.close();function pe(g){Ot[g?"unshift":"push"](()=>{t=g,o(1,t)})}return a.$$set=g=>{"data"in g&&o(0,n=g.data)},[n,t,s,r,h,m,M,q,me,w,N,C,z,pe]}class pl extends Ft{constructor(l){super(),Gt(this,l,hl,fl,Yt,{data:0})}}export{pl as default};
