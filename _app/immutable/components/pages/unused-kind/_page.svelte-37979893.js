import{S as oe,i as se,s as ce,k as f,q as E,a as R,l as _,m as p,r as g,c as D,h as s,n as B,b as A,D as r,R as $,J as ee,u as M,U as re,C as G,N as ie,L as de,O as te,T as he,e as ne,p as Y}from"../../../chunks/index-fe339fa7.js";import{c as ue}from"../../../chunks/nostr-46a772af.js";function le(o,e,l){const t=o.slice();return t[6]=e[l].relay,t[7]=e[l].eventPromise,t}function fe(o){let e;function l(a,c){return a[11]==="not checked yet"?ve:a[11]==="event not found"?me:a[11]==="timed out"?pe:_e}let t=l(o),n=t(o);return{c(){n.c(),e=ne()},l(a){n.l(a),e=ne()},m(a,c){n.m(a,c),A(a,e,c)},p(a,c){t!==(t=l(a))&&(n.d(1),n=t(a),n&&(n.c(),n.m(e.parentNode,e)))},d(a){n.d(a),a&&s(e)}}}function _e(o){let e,l;return{c(){e=f("span"),l=E("errored"),this.h()},l(t){e=_(t,"SPAN",{style:!0});var n=p(e);l=g(n,"errored"),n.forEach(s),this.h()},h(){Y(e,"color","orange")},m(t,n){A(t,e,n),r(e,l)},d(t){t&&s(e)}}}function pe(o){let e,l;return{c(){e=f("span"),l=E("timed out"),this.h()},l(t){e=_(t,"SPAN",{style:!0});var n=p(e);l=g(n,"timed out"),n.forEach(s),this.h()},h(){Y(e,"color","orange")},m(t,n){A(t,e,n),r(e,l)},d(t){t&&s(e)}}}function me(o){let e,l;return{c(){e=f("span"),l=E("event not found!"),this.h()},l(t){e=_(t,"SPAN",{style:!0});var n=p(e);l=g(n,"event not found!"),n.forEach(s),this.h()},h(){Y(e,"color","green")},m(t,n){A(t,e,n),r(e,l)},d(t){t&&s(e)}}}function ve(o){let e,l;return{c(){e=f("span"),l=E("not checked yet")},l(t){e=_(t,"SPAN",{});var n=p(e);l=g(n,"not checked yet"),n.forEach(s)},m(t,n){A(t,e,n),r(e,l)},d(t){t&&s(e)}}}function ke(o){let e,l,t=o[10].id+"",n;return{c(){e=f("span"),l=E("oh no! found event "),n=E(t),this.h()},l(a){e=_(a,"SPAN",{style:!0});var c=p(e);l=g(c,"oh no! found event "),n=g(c,t),c.forEach(s),this.h()},h(){Y(e,"color","red")},m(a,c){A(a,e,c),r(e,l),r(e,n)},p(a,c){c&4&&t!==(t=a[10].id+"")&&M(n,t)},d(a){a&&s(e)}}}function be(o){let e,l;return{c(){e=f("span"),l=E("checking…")},l(t){e=_(t,"SPAN",{});var n=p(e);l=g(n,"checking…"),n.forEach(s)},m(t,n){A(t,e,n),r(e,l)},p:G,d(t){t&&s(e)}}}function ae(o){let e,l,t=o[6]+"",n,a,c,m,T,v,h={ctx:o,current:null,token:null,hasCatch:!0,pending:be,then:ke,catch:fe,value:10,error:11};return te(T=o[7],h),{c(){e=f("tr"),l=f("td"),n=E(t),a=E(":"),c=R(),m=f("td"),h.block.c(),v=R()},l(b){e=_(b,"TR",{});var i=p(e);l=_(i,"TD",{});var y=p(l);n=g(y,t),a=g(y,":"),y.forEach(s),c=D(i),m=_(i,"TD",{});var N=p(m);h.block.l(N),N.forEach(s),v=D(i),i.forEach(s)},m(b,i){A(b,e,i),r(e,l),r(l,n),r(l,a),r(e,c),r(e,m),h.block.m(m,h.anchor=null),h.mount=()=>m,h.anchor=null,r(e,v)},p(b,i){o=b,i&4&&t!==(t=o[6]+"")&&M(n,t),h.ctx=o,i&4&&T!==(T=o[7])&&te(T,h)||he(h,o,i)},d(b){b&&s(e),h.block.d(),h.token=null,h=null}}}function ye(o){let e,l,t,n=o[0].randomKind+"",a,c,m,T,v,h,b,i,y,N,C,I,q,L,w,V,j,K,F,Q,S=o[2],k=[];for(let u=0;u<S.length;u+=1)k[u]=ae(le(o,S,u));return{c(){e=f("div"),l=f("p"),t=E("Your random kind: "),a=E(n),c=R(),m=f("input"),T=R(),v=f("button"),h=E("Check It Now!"),b=R(),i=f("div"),y=f("table"),N=f("thead"),C=f("tr"),I=f("th"),q=E("Relay"),L=R(),w=f("th"),V=E("Event status"),j=R(),K=f("tbody");for(let u=0;u<k.length;u+=1)k[u].c();this.h()},l(u){e=_(u,"DIV",{class:!0});var P=p(e);l=_(P,"P",{class:!0});var d=p(l);t=g(d,"Your random kind: "),a=g(d,n),c=D(d),m=_(d,"INPUT",{type:!0}),d.forEach(s),T=D(P),v=_(P,"BUTTON",{class:!0});var O=p(v);h=g(O,"Check It Now!"),O.forEach(s),b=D(P),i=_(P,"DIV",{class:!0});var W=p(i);y=_(W,"TABLE",{});var H=p(y);N=_(H,"THEAD",{});var X=p(N);C=_(X,"TR",{});var U=p(C);I=_(U,"TH",{});var Z=p(I);q=g(Z,"Relay"),Z.forEach(s),L=D(U),w=_(U,"TH",{});var z=p(w);V=g(z,"Event status"),z.forEach(s),U.forEach(s),X.forEach(s),j=D(H),K=_(H,"TBODY",{});var x=p(K);for(let J=0;J<k.length;J+=1)k[J].l(x);x.forEach(s),H.forEach(s),W.forEach(s),P.forEach(s),this.h()},h(){B(m,"type","number"),B(l,"class","mb-5"),B(v,"class","bg-slate-200 hover:bg-slate-300 rounded border p-2"),B(i,"class","mt-5"),B(e,"class","max-w-prose")},m(u,P){A(u,e,P),r(e,l),r(l,t),r(l,a),r(l,c),r(l,m),$(m,o[1]),r(e,T),r(e,v),r(v,h),r(e,b),r(e,i),r(i,y),r(y,N),r(N,C),r(C,I),r(I,q),r(C,L),r(C,w),r(w,V),r(y,j),r(y,K);for(let d=0;d<k.length;d+=1)k[d].m(K,null);F||(Q=[ee(m,"input",o[4]),ee(v,"click",o[3])],F=!0)},p(u,[P]){if(P&1&&n!==(n=u[0].randomKind+"")&&M(a,n),P&2&&re(m.value)!==u[1]&&$(m,u[1]),P&4){S=u[2];let d;for(d=0;d<S.length;d+=1){const O=le(u,S,d);k[d]?k[d].p(O,P):(k[d]=ae(O),k[d].c(),k[d].m(K,null))}for(;d<k.length;d+=1)k[d].d(1);k.length=S.length}},i:G,o:G,d(u){u&&s(e),ie(k,u),F=!1,de(Q)}}}function Ee(o,e,l){let{data:t}=e,n;function a(){m(typeof n<"u"?n:t.randomKind,8)}const c=t.relays.map(v=>({relay:v,eventPromise:Promise.reject("not checked yet")}));async function m(v,h){const b=t.relays;let i=0;h>b.length&&(h=b.length);function y(){i>=b.length||(l(2,c[i].eventPromise=ue(v,t.relays[i]),c),c[i].eventPromise.finally(()=>y()),i++)}for(let N=0;N<h;N++)y()}function T(){n=re(this.value),l(1,n)}return o.$$set=v=>{"data"in v&&l(0,t=v.data)},[t,n,c,a,T]}class Ne extends oe{constructor(e){super(),se(this,e,Ee,ye,ce,{data:0})}}export{Ne as default};
